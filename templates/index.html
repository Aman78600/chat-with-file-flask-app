<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Chatbot Landing Page</title>
    <style>
        /* General navbar styling */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
         :root {
            --hilight-color: linear-gradient(135deg, #f617176e 0%, #6600e373 100%);
            ;
            --height-light-text: rgb(146, 95, 255);
            --whight: #fff;
            --black: #000;
            --nev-bar: #001b47;
            --body-color: linear-gradient(135deg, #121315 0%, #0c2c5f 100%);
        }
        
        body {
            background-image: url("https://images.pexels.com/photos/7135005/pexels-photo-7135005.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load");
            background-size: cover;
            background-repeat: no-repeat;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .chat-container {
            display: flex;
            justify-content: center;
            align-items: center;
            /* background-color: rgba(0, 0, 0, 0.5); */
        }
        
        a {
            text-decoration: none;
            color: #000;
            font-size: larger;
        }
        
        .navbar {
            position: fixed;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background-color: rgb(255, 255, 255);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        /* Logo styling */
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 40px;
            width: auto;
        }
        /* Navigation links */
        
        .nav-links {
            display: flex;
            align-items: center;
            gap: 20px;
            text-decoration: none;
            color: #000000;
            font-size: 16px;
            transition: color 0.3s ease;
        }
        
        .nav-links a:hover {
            color: var(--height-light-text);
        }
        /* Social links styling */
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links {
            color: #090909;
            text-decoration: none;
        }
        
        .social-links i {
            font-size: 18px;
        }
        /* Call-to-action button */
        
        .schedule-call {
            background-color: var(--height-light-text);
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 14px;
            color: white;
            transition: background-color 0.3s ease;
        }
        
        .schedule-call:hover {
            background-color: var(--whight);
            color: black;
        }
        /* Hamburger menu for mobile */
        
        .hamburger {
            display: none;
            cursor: pointer;
            flex-direction: column;
            gap: 5px;
            /* background-color: rgb(239, 235, 235); */
        }
        
        .hamburger span {
            width: 20px;
            height: 3px;
            background-color: #080808;
            transition: all 0.3s ease;
        }
        /* Responsive styles */
        
        @media (max-width: 768px) {
            .hamburger {
                display: flex;
                background-color: rgba(51, 46, 46, 0.329);
            }
            .nav-links {
                display: none;
                position: absolute;
                top: 60px;
                left: 0;
                right: 0;
                flex-direction: column;
                background-color: rgba(255, 255, 255, 0.584);
                padding: 20px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                z-index: 1000;
                height: 100vh;
            }
            .nav-links.active {
                display: flex;
            }
            .navbar {
                padding: 15px 20px;
            }
        }
        
        .main-content {
            max-width: 1200px;
            margin: 4rem auto;
            text-align: center;
            padding: 5rem;
            color: rgba(10, 10, 10, 0.912);
        }
        
        .main-heading {
            font-size: 3.5rem;
            margin-bottom: 1rem;
        }
        
        .purple-text {
            color: var(--height-light-text);
        }
        /* .subtitle {
            font-size: 1.5rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            color: #070229;
        } */
        
        .upload_hading {
            color: #000;
            padding-top: 10px;
            padding-bottom: 20px;
        }
        
        .cta-button {
            background: #efecec;
            color: #0b0b0b;
            padding: 1rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1.1rem;
            display: inline-block;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
        }
        
        #fileInput {
            display: none;
            /* Hide the default file input */
        }
        
        .custom-file-upload {
            display: inline-block;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: 500;
            color: white;
            background: var(--hilight-color);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            text-align: center;
        }
        
        .custom-file-upload:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            color: var(--height-light-text);
            background: var(--black);
        }
        
        .custom-file-upload:active {
            transform: translateY(0);
            box-shadow: none;
        }
        
        .upload_button {
            display: inline-block;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: 500;
            color: var(--height-light-text);
            background: var(--black);
            border: none;
            border-radius: 25px;
            cursor: pointer;
        }
        
        .upload_button:hover {
            color: var(--whight);
            background: var(--hilight-color);
            box-shadow: 10px 10px 10px rgba(0, 0, 0, 0.2);
        }
        
        .chatbot-widget {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }
        
        .chatbot-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(255, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
            color: var(--height-light-text);
            background: var(--black);
            box-shadow: white 0px 0px 10px;
        }
        
        .chatbot-button:hover {
            color: var(--whight);
            background: var(--hilight-color);
            transform: scale(1.5);
            box-shadow: rgb(251, 251, 251) 0px 0px 50px;
        }
        
        .chat-window {
            display: flex;
            justify-content: center;
            position: fixed;
            bottom: 0.5rem;
            right: 0.2rem;
            width: 400px;
            height: 500px;
            background: rgba(7, 7, 7, 0.723);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            display: none;
            flex-direction: column;
        }
        
        .chat-header {
            height: 60px;
            padding: 1rem;
            background: white;
            color: white;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
        }
        
        .chat-input {
            padding: 1rem;
            border-top: 1px solid #eee;
            display: flex;
            gap: 0.5rem;
        }
        
        .chat-input input {
            flex-grow: 1;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            outline: none;
        }
        
        .chat-input button {
            padding: 0.5rem 1rem;
            background: var(--hilight-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .show {
            display: flex;
        }
        
        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #fbfbfb7e;
            color: rgb(7, 7, 7);
            padding: 20px 0;
            text-align: center;
        }
        /* .footer-nav {
            margin-bottom: 20px;
        }
         */
        /* .footer-nav a {
            text-decoration: none;
            margin: 0 15px;
            font-size: 16px;
            transition: color 0.3s ease;
        }
        
        .footer-nav a:hover {
            color: var(--height-light-text);
        }
        
        footer>.social-links a{
            font-size: 18px;
            transition: transform 0.3s ease;
            display: inline-block;
        }
        
        .social-links a:hover {
            transform: translateY(-3px);
            color: var(--height-light-text);
        } */
        
        .copyright {
            font-size: 14px;
            color: #ccc;
            margin-bottom: 5px;
        }
        
        .website-link {
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s ease;
        }
        
        .website-link:hover {
            color: var(--height-light-text);
        }
        
        #fileInput {
            display: none;
            /* Hide the default file input */
        }
    </style>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
</head>

<body>


    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <nav class="navbar">
        <div class="logo">
            <img src="https://static.wixstatic.com/media/a08789_941b7895bcde42eeb0adea78b4c96181~mv2.jpg/v1/fill/w_199,h_104,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/dallas_edited_edited.jpg" alt="Neuramonks Logo">
        </div>

        <button class="hamburger" id="hamburger">
           <span></span>
           <span></span>
           <span></span>
       </button>

        <div class="nav-links" id="nav-links">
            <a href="https://www.deepneuralai.com/" target="_blank">Home</a>
            <a href="https://www.deepneuralai.com/careers" target="_blank">Careers</a>
            <a href="https://www.deepneuralai.com/about" target="_blank">About Us</a>
            <a href="https://www.deepneuralai.com/services-8" target="_blank">Services</a>

            <div class="social-links">
                <a href="https://www.facebook.com/wix" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.linkedin.com/company/91364292/admin/feed/posts/" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://www.linkedin.com/company/91364292/admin/feed/posts/" target="_blank"><i class="fab fa-linkedin-in"></i></a>
            </div>
            <a href="#contact" class="schedule-call">Schedule a Call</a>
        </div>
    </nav>

    <main class="main-content">
        <h1 class="main-heading">
            Chat with
            <span class="purple-text">your</span> Data
        </h1>
        <div class="chat-container">
            <model-viewer src="{{ url_for('static', filename='models/i_am_an_ai_assistant_named_internlm-xcomposer.glb') }}" auto-rotate camera-controls alt="cube" background-color="#455A64" ar ar-modes="webxr scene-viewer quick-look" ar-scale="auto" camera-orbit="0deg 90deg 2.5m"
                camera-target="0deg 0deg 0m" interaction-prompt="none" reveal="auto" loading="eager" poster="https://example.com/poster.jpg"></model-viewer>
        </div>
        <h1 class="upload_hading">Upload File</h1>
        <div class="upload-container">
            <label for="fileInput" class="custom-file-upload">Choose File</label>
            <input type="file" name="pdf_file" accept="application/pdf" id="fileInput"> <button class="cta-button upload_button" onclick="handleFileUpload()">Upload File</button>
            <div id="uploadFileMassage"></div>
            <br>
            <progress id="uploadProgress" value="0" max="100" style="display:none;"></progress>
        </div>


    </main>

    <div class="chatbot-widget">
        <button class="chatbot-button" onclick="toggleChat()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
        </button>

        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="logo">
                    <img src="https://static.wixstatic.com/media/a08789_941b7895bcde42eeb0adea78b4c96181~mv2.jpg/v1/fill/w_199,h_104,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/dallas_edited_edited.jpg" alt="Neuramonks Logo">
                </div>
                <button onclick="toggleChat()" style="background: none; border: none;font-size: 50px; color: rgb(0, 0, 0); cursor: pointer;">
                    ×
                </button>
            </div>
            <div class="chat-messages" id="chatMessages"></div>
            <div class="chat-input">
                <input type="text" placeholder="Type your message..." id="messageInput">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>


    <footer class="footer">
        <!-- <nav class="footer-nav">
            <a href="https://www.deepneuralai.com/" target="_blank">Home</a>
            <a href="https://www.deepneuralai.com/careers" target="_blank">Careers</a>
            <a href="https://www.deepneuralai.com/about" target="_blank">About Us</a>
            <a href="https://www.deepneuralai.com/services-8" target="_blank">Services</a>
        </nav> -->

        <!-- <div class="social-links">
            <a href="https://www.facebook.com/wix" target="_blank" class="social-link facebook">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://www.linkedin.com/company/91364292/admin/feed/posts/" target="_blank" class="social-link instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.linkedin.com/company/91364292/admin/feed/posts/" target="_blank" class="social-link linkedin">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </div> -->
        <h5>Email: info@deepneuralai.com
        </h5>
        <a class="website-link" href="https://www.deepneuralai.com/" target="_blank">www.deepneuralai.com</a>
        <br>
        <p class="copyright">Copyright © 2024 All Right Reserved.</p>
    </footer>




    <script>
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('nav-links');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.classList.toggle('show');
        }

        // File upload and message handling
        function handleFileUpload() {
            const fileInput = document.getElementById('fileInput');
            const uploadMessage = document.getElementById('uploadFileMassage');
            const uploadProgress = document.getElementById('uploadProgress');

            const file = fileInput.files[0];

            if (file) {
                const formData = new FormData();
                formData.append('file', file);

                // Display progress bar
                uploadProgress.style.display = 'block';
                uploadProgress.value = 0;

                // Send the file to the server
                fetch('/upload_file', {
                        method: 'POST',
                        body: formData,
                    })
                    .then(response => response.json())
                    .then(data => {
                        uploadMessage.textContent = data.response;
                        uploadMessage.style.color = data.response.includes('successfully') ? 'green' : 'red';
                        uploadProgress.style.display = 'none';
                    })
                    .catch(error => {
                        uploadMessage.textContent = 'File upload failed. Please try again.';
                        uploadMessage.style.color = 'red';
                        uploadProgress.style.display = 'none';
                        console.error('Error:', error);
                    });
            } else {
                uploadMessage.textContent = 'No file selected.';
                uploadMessage.style.color = 'red';
            }
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (message) {
                const messagesContainer = document.getElementById('chatMessages');

                // Display the user's message
                const messageElement = document.createElement('div');
                messageElement.style.marginBottom = '1rem';
                messageElement.style.textAlign = 'right';
                messageElement.innerHTML = `
                    <div style="background: linear-gradient(135deg, #4158D0 0%, #50c85e 100%); color: white; padding: 0.5rem 1rem; border-radius: 20px; display: inline-block; max-width: 80%; text-align: left;">
                        ${message}
                    </div>`;
                messagesContainer.appendChild(messageElement);
                input.value = '';

                // Send the message to the Flask server
                fetch('/ask_question', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            question: message
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        // Display the bot's response
                        const botMessage = document.createElement('div');
                        botMessage.style.marginBottom = '1rem';
                        botMessage.innerHTML = `
                            <div style="background: #f0f0f0; color: #333; padding: 0.5rem 1rem; border-radius: 20px; display: inline-block; max-width: 80%;">
                                ${data.response}
                            </div>`;
                        messagesContainer.appendChild(botMessage);
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    })
                    .catch(error => console.error('Error:', error));
            }
        }
    </script>
</body>
